{"ast":null,"code":"'use strict';Object.defineProperty(exports,\"__esModule\",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _reactTweenState=require('react-tween-state');var _reactTweenState2=_interopRequireDefault(_reactTweenState);var _NativeButton=require('./NativeButton');var _NativeButton2=_interopRequireDefault(_NativeButton);var _styles=require('./styles');var _styles2=_interopRequireDefault(_styles);var _react=require('react');var _react2=_interopRequireDefault(_react);var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _createReactClass=require('create-react-class');var _createReactClass2=_interopRequireDefault(_createReactClass);var _reactNative=require('react-native');function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var SwipeoutBtn=(0,_createReactClass2.default)({displayName:'SwipeoutBtn',propTypes:{backgroundColor:_propTypes2.default.string,color:_propTypes2.default.string,component:_propTypes2.default.node,onPress:_propTypes2.default.func,text:_propTypes2.default.node,type:_propTypes2.default.string,underlayColor:_propTypes2.default.string},getDefaultProps:function getDefaultProps(){return{backgroundColor:null,color:null,component:null,underlayColor:null,height:0,onPress:null,disabled:false,text:'Click me',type:'',width:0};},render:function render(){var btn=this.props;var styleSwipeoutBtn=[_styles2.default.swipeoutBtn];if(btn.type==='delete')styleSwipeoutBtn.push(_styles2.default.colorDelete);else if(btn.type==='primary')styleSwipeoutBtn.push(_styles2.default.colorPrimary);else if(btn.type==='secondary')styleSwipeoutBtn.push(_styles2.default.colorSecondary);if(btn.backgroundColor)styleSwipeoutBtn.push([{backgroundColor:btn.backgroundColor}]);styleSwipeoutBtn.push([{height:btn.height,width:btn.width}]);var styleSwipeoutBtnComponent=[];styleSwipeoutBtnComponent.push([{height:btn.height,width:btn.width}]);var styleSwipeoutBtnText=[_styles2.default.swipeoutBtnText];if(btn.color)styleSwipeoutBtnText.push({color:btn.color});return _react2.default.createElement(_NativeButton2.default,{onPress:this.props.onPress,underlayColor:this.props.underlayColor,disabled:this.props.disabled,style:[_styles2.default.swipeoutBtnTouchable,styleSwipeoutBtn],textStyle:styleSwipeoutBtnText},btn.component?_react2.default.createElement(_reactNative.View,{style:styleSwipeoutBtnComponent},btn.component):btn.text);}});var Swipeout=(0,_createReactClass2.default)({displayName:'Swipeout',mixins:[_reactTweenState2.default.Mixin],propTypes:{autoClose:_propTypes2.default.bool,backgroundColor:_propTypes2.default.string,close:_propTypes2.default.bool,left:_propTypes2.default.array,onOpen:_propTypes2.default.func,onClose:_propTypes2.default.func,right:_propTypes2.default.array,scroll:_propTypes2.default.func,style:(_reactNative.ViewPropTypes||_reactNative.View.propTypes).style,sensitivity:_propTypes2.default.number,buttonWidth:_propTypes2.default.number,disabled:_propTypes2.default.bool},getDefaultProps:function getDefaultProps(){return{disabled:false,rowID:-1,sectionID:-1,sensitivity:50};},getInitialState:function getInitialState(){return{autoClose:this.props.autoClose||false,btnWidth:0,btnsLeftWidth:0,btnsRightWidth:0,contentHeight:0,contentPos:0,contentWidth:0,openedRight:false,swiping:false,tweenDuration:160,timeStart:null};},componentWillMount:function componentWillMount(){var _this=this;this._panResponder=_reactNative.PanResponder.create({onStartShouldSetPanResponder:function onStartShouldSetPanResponder(event,gestureState){return true;},onStartShouldSetPanResponderCapture:function onStartShouldSetPanResponderCapture(event,gestureState){return _this.state.openedLeft||_this.state.openedRight;},onMoveShouldSetPanResponderCapture:function onMoveShouldSetPanResponderCapture(event,gestureState){return Math.abs(gestureState.dx)>_this.props.sensitivity&&Math.abs(gestureState.dy)<=_this.props.sensitivity;},onPanResponderGrant:this._handlePanResponderGrant,onPanResponderMove:this._handlePanResponderMove,onPanResponderRelease:this._handlePanResponderEnd,onPanResponderTerminate:this._handlePanResponderEnd,onShouldBlockNativeResponder:function onShouldBlockNativeResponder(event,gestureState){return false;},onPanResponderTerminationRequest:function onPanResponderTerminationRequest(){return false;}});},componentWillReceiveProps:function componentWillReceiveProps(nextProps){if(nextProps.close)this._close();if(nextProps.openRight)this._openRight();if(nextProps.openLeft)this._openLeft();},_handlePanResponderGrant:function _handlePanResponderGrant(e,gestureState){var _this2=this;if(this.props.disabled)return;if(!this.state.openedLeft&&!this.state.openedRight){this._callOnOpen();}else{this._callOnClose();}this.refs.swipeoutContent.measure(function(ox,oy,width,height){var buttonWidth=_this2.props.buttonWidth||width/5;_this2.setState({btnWidth:buttonWidth,btnsLeftWidth:_this2.props.left?buttonWidth*_this2.props.left.length:0,btnsRightWidth:_this2.props.right?buttonWidth*_this2.props.right.length:0,swiping:true,timeStart:new Date().getTime()});});},_handlePanResponderMove:function _handlePanResponderMove(e,gestureState){if(this.props.disabled)return;var posX=gestureState.dx;var posY=gestureState.dy;var leftWidth=this.state.btnsLeftWidth;var rightWidth=this.state.btnsRightWidth;if(this.state.openedRight)var posX=gestureState.dx-rightWidth;else if(this.state.openedLeft)var posX=gestureState.dx+leftWidth;var moveX=Math.abs(posX)>Math.abs(posY);if(this.props.scroll){if(moveX)this.props.scroll(false);else this.props.scroll(true);}if(this.state.swiping){if(posX<0&&this.props.right){this.setState({contentPos:Math.min(posX,0)});}else if(posX>0&&this.props.left){this.setState({contentPos:Math.max(posX,0)});};}},_handlePanResponderEnd:function _handlePanResponderEnd(e,gestureState){if(this.props.disabled)return;var posX=gestureState.dx;var contentPos=this.state.contentPos;var contentWidth=this.state.contentWidth;var btnsLeftWidth=this.state.btnsLeftWidth;var btnsRightWidth=this.state.btnsRightWidth;var openX=contentWidth*0.33;var openLeft=posX>openX||posX>btnsLeftWidth/2;var openRight=posX<-openX||posX<-btnsRightWidth/2;if(this.state.openedRight)var openRight=posX-openX<-openX;if(this.state.openedLeft)var openLeft=posX+openX>openX;var timeDiff=new Date().getTime()-this.state.timeStart<200;if(timeDiff){var openRight=posX<-openX/10&&!this.state.openedLeft;var openLeft=posX>openX/10&&!this.state.openedRight;}if(this.state.swiping){if(openRight&&contentPos<0&&posX<0){this._open(-btnsRightWidth,'right');}else if(openLeft&&contentPos>0&&posX>0){this._open(btnsLeftWidth,'left');}else{this._close();}}if(this.props.scroll)this.props.scroll(true);},_tweenContent:function _tweenContent(state,endValue){this.tweenState(state,{easing:_reactTweenState2.default.easingTypes.easeInOutQuad,duration:endValue===0?this.state.tweenDuration*1.5:this.state.tweenDuration,endValue:endValue});},_rubberBandEasing:function _rubberBandEasing(value,limit){if(value<0&&value<limit)return limit-Math.pow(limit-value,0.85);else if(value>0&&value>limit)return limit+Math.pow(value-limit,0.85);return value;},_autoClose:function _autoClose(btn){if(this.state.autoClose)this._close();var onPress=btn.onPress;if(onPress)onPress();},_open:function _open(contentPos,direction){var left=direction==='left';var _props=this.props,sectionID=_props.sectionID,rowID=_props.rowID,onOpen=_props.onOpen;onOpen&&onOpen(sectionID,rowID,direction);this._tweenContent('contentPos',contentPos);this.setState({contentPos:contentPos,openedLeft:left,openedRight:!left,swiping:false});},_close:function _close(){var _props2=this.props,sectionID=_props2.sectionID,rowID=_props2.rowID,onClose=_props2.onClose;if(onClose&&(this.state.openedLeft||this.state.openedRight)){var direction=this.state.openedRight?'right':'left';onClose(sectionID,rowID,direction);}this._tweenContent('contentPos',0);this._callOnClose();this.setState({openedRight:false,openedLeft:false,swiping:false});},_callOnClose:function _callOnClose(){if(this.props.onClose)this.props.onClose(this.props.sectionID,this.props.rowID);},_callOnOpen:function _callOnOpen(){if(this.props.onOpen)this.props.onOpen(this.props.sectionID,this.props.rowID);},_openRight:function _openRight(){var _this3=this;this.refs.swipeoutContent.measure(function(ox,oy,width,height){var btnWidth=_this3.props.buttonWidth||width/5;_this3.setState({btnWidth:btnWidth,btnsRightWidth:_this3.props.right?btnWidth*_this3.props.right.length:0},function(){_this3._tweenContent('contentPos',-_this3.state.btnsRightWidth);_this3._callOnOpen();_this3.setState({contentPos:-_this3.state.btnsRightWidth,openedLeft:false,openedRight:true,swiping:false});});});},_openLeft:function _openLeft(){var _this4=this;this.refs.swipeoutContent.measure(function(ox,oy,width,height){var btnWidth=_this4.props.buttonWidth||width/5;_this4.setState({btnWidth:btnWidth,btnsLeftWidth:_this4.props.left?btnWidth*_this4.props.left.length:0},function(){_this4._tweenContent('contentPos',_this4.state.btnsLeftWidth);_this4._callOnOpen();_this4.setState({contentPos:_this4.state.btnsLeftWidth,openedLeft:true,openedRight:false,swiping:false});});});},render:function render(){var contentWidth=this.state.contentWidth;var posX=this.getTweeningValue('contentPos');var styleSwipeout=[_styles2.default.swipeout,this.props.style];if(this.props.backgroundColor){styleSwipeout.push([{backgroundColor:this.props.backgroundColor}]);}var limit=-this.state.btnsRightWidth;if(posX>0)var limit=this.state.btnsLeftWidth;var styleLeftPos={left:{left:0,overflow:'hidden',width:Math.min(limit*(posX/limit),limit)}};var styleRightPos={right:{left:Math.abs(contentWidth+Math.max(limit,posX)),right:0}};var styleContentPos={content:{transform:[{translateX:this._rubberBandEasing(posX,limit)}]}};var styleContent=[_styles2.default.swipeoutContent];styleContent.push(styleContentPos.content);var styleRight=[_styles2.default.swipeoutBtns];styleRight.push(styleRightPos.right);var styleLeft=[_styles2.default.swipeoutBtns];styleLeft.push(styleLeftPos.left);var isRightVisible=posX<0;var isLeftVisible=posX>0;return _react2.default.createElement(_reactNative.View,{style:styleSwipeout},_react2.default.createElement(_reactNative.View,_extends({ref:'swipeoutContent',style:styleContent,onLayout:this._onLayout},this._panResponder.panHandlers),this.props.children),this._renderButtons(this.props.right,isRightVisible,styleRight),this._renderButtons(this.props.left,isLeftVisible,styleLeft));},_onLayout:function _onLayout(event){var _event$nativeEvent$la=event.nativeEvent.layout,width=_event$nativeEvent$la.width,height=_event$nativeEvent$la.height;this.setState({contentWidth:width,contentHeight:height});},_renderButtons:function _renderButtons(buttons,isVisible,style){if(buttons&&isVisible){return _react2.default.createElement(_reactNative.View,{style:style},buttons.map(this._renderButton));}else{return _react2.default.createElement(_reactNative.View,null);}},_renderButton:function _renderButton(btn,i){var _this5=this;return _react2.default.createElement(SwipeoutBtn,{backgroundColor:btn.backgroundColor,color:btn.color,component:btn.component,disabled:btn.disabled,height:this.state.contentHeight,key:i,onPress:function onPress(){return _this5._autoClose(btn);},text:btn.text,type:btn.type,underlayColor:btn.underlayColor,width:this.state.btnWidth});}});Swipeout.NativeButton=_NativeButton2.default;Swipeout.SwipeoutButton=SwipeoutBtn;exports.default=Swipeout;","map":{"version":3,"sources":["C:/Users/Parth Patel/Desktop/expenseTracker/node_modules/react-native-swipeout/dist/index.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_reactTweenState","require","_reactTweenState2","_interopRequireDefault","_NativeButton","_NativeButton2","_styles","_styles2","_react","_react2","_propTypes","_propTypes2","_createReactClass","_createReactClass2","_reactNative","obj","__esModule","default","SwipeoutBtn","displayName","propTypes","backgroundColor","string","color","component","node","onPress","func","text","type","underlayColor","getDefaultProps","height","disabled","width","render","btn","props","styleSwipeoutBtn","swipeoutBtn","push","colorDelete","colorPrimary","colorSecondary","styleSwipeoutBtnComponent","styleSwipeoutBtnText","swipeoutBtnText","createElement","style","swipeoutBtnTouchable","textStyle","View","Swipeout","mixins","Mixin","autoClose","bool","close","left","array","onOpen","onClose","right","scroll","ViewPropTypes","sensitivity","number","buttonWidth","rowID","sectionID","getInitialState","btnWidth","btnsLeftWidth","btnsRightWidth","contentHeight","contentPos","contentWidth","openedRight","swiping","tweenDuration","timeStart","componentWillMount","_this","_panResponder","PanResponder","create","onStartShouldSetPanResponder","event","gestureState","onStartShouldSetPanResponderCapture","state","openedLeft","onMoveShouldSetPanResponderCapture","Math","abs","dx","dy","onPanResponderGrant","_handlePanResponderGrant","onPanResponderMove","_handlePanResponderMove","onPanResponderRelease","_handlePanResponderEnd","onPanResponderTerminate","onShouldBlockNativeResponder","onPanResponderTerminationRequest","componentWillReceiveProps","nextProps","_close","openRight","_openRight","openLeft","_openLeft","e","_this2","_callOnOpen","_callOnClose","refs","swipeoutContent","measure","ox","oy","setState","Date","getTime","posX","posY","leftWidth","rightWidth","moveX","min","max","openX","timeDiff","_open","_tweenContent","endValue","tweenState","easing","easingTypes","easeInOutQuad","duration","_rubberBandEasing","limit","pow","_autoClose","direction","_props","_props2","_this3","_this4","getTweeningValue","styleSwipeout","swipeout","styleLeftPos","overflow","styleRightPos","styleContentPos","content","transform","translateX","styleContent","styleRight","swipeoutBtns","styleLeft","isRightVisible","isLeftVisible","ref","onLayout","_onLayout","panHandlers","children","_renderButtons","_event$nativeEvent$la","nativeEvent","layout","buttons","isVisible","map","_renderButton","_this5","NativeButton","SwipeoutButton"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _reactTweenState = require('react-tween-state');\n\nvar _reactTweenState2 = _interopRequireDefault(_reactTweenState);\n\nvar _NativeButton = require('./NativeButton');\n\nvar _NativeButton2 = _interopRequireDefault(_NativeButton);\n\nvar _styles = require('./styles');\n\nvar _styles2 = _interopRequireDefault(_styles);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _reactNative = require('react-native');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SwipeoutBtn = (0, _createReactClass2.default)({\n  displayName: 'SwipeoutBtn',\n\n\n  propTypes: {\n    backgroundColor: _propTypes2.default.string,\n    color: _propTypes2.default.string,\n    component: _propTypes2.default.node,\n    onPress: _propTypes2.default.func,\n    text: _propTypes2.default.node,\n    type: _propTypes2.default.string,\n    underlayColor: _propTypes2.default.string\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      backgroundColor: null,\n      color: null,\n      component: null,\n      underlayColor: null,\n      height: 0,\n      onPress: null,\n      disabled: false,\n      text: 'Click me',\n      type: '',\n      width: 0\n    };\n  },\n\n  render: function render() {\n    var btn = this.props;\n\n    var styleSwipeoutBtn = [_styles2.default.swipeoutBtn];\n\n    //  apply \"type\" styles (delete || primary || secondary)\n    if (btn.type === 'delete') styleSwipeoutBtn.push(_styles2.default.colorDelete);else if (btn.type === 'primary') styleSwipeoutBtn.push(_styles2.default.colorPrimary);else if (btn.type === 'secondary') styleSwipeoutBtn.push(_styles2.default.colorSecondary);\n\n    //  apply background color\n    if (btn.backgroundColor) styleSwipeoutBtn.push([{ backgroundColor: btn.backgroundColor }]);\n\n    styleSwipeoutBtn.push([{\n      height: btn.height,\n      width: btn.width\n    }]);\n\n    var styleSwipeoutBtnComponent = [];\n\n    //  set button dimensions\n    styleSwipeoutBtnComponent.push([{\n      height: btn.height,\n      width: btn.width\n    }]);\n\n    var styleSwipeoutBtnText = [_styles2.default.swipeoutBtnText];\n\n    //  apply text color\n    if (btn.color) styleSwipeoutBtnText.push({ color: btn.color });\n\n    return _react2.default.createElement(\n      _NativeButton2.default,\n      {\n        onPress: this.props.onPress,\n        underlayColor: this.props.underlayColor,\n        disabled: this.props.disabled,\n        style: [_styles2.default.swipeoutBtnTouchable, styleSwipeoutBtn],\n        textStyle: styleSwipeoutBtnText },\n      btn.component ? _react2.default.createElement(\n        _reactNative.View,\n        { style: styleSwipeoutBtnComponent },\n        btn.component\n      ) : btn.text\n    );\n  }\n});\n\nvar Swipeout = (0, _createReactClass2.default)({\n  displayName: 'Swipeout',\n\n  mixins: [_reactTweenState2.default.Mixin],\n\n  propTypes: {\n    autoClose: _propTypes2.default.bool,\n    backgroundColor: _propTypes2.default.string,\n    close: _propTypes2.default.bool,\n    left: _propTypes2.default.array,\n    onOpen: _propTypes2.default.func,\n    onClose: _propTypes2.default.func,\n    right: _propTypes2.default.array,\n    scroll: _propTypes2.default.func,\n    style: (_reactNative.ViewPropTypes || _reactNative.View.propTypes).style,\n    sensitivity: _propTypes2.default.number,\n    buttonWidth: _propTypes2.default.number,\n    disabled: _propTypes2.default.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      disabled: false,\n      rowID: -1,\n      sectionID: -1,\n      sensitivity: 50\n    };\n  },\n\n  getInitialState: function getInitialState() {\n    return {\n      autoClose: this.props.autoClose || false,\n      btnWidth: 0,\n      btnsLeftWidth: 0,\n      btnsRightWidth: 0,\n      contentHeight: 0,\n      contentPos: 0,\n      contentWidth: 0,\n      openedRight: false,\n      swiping: false,\n      tweenDuration: 160,\n      timeStart: null\n    };\n  },\n\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    this._panResponder = _reactNative.PanResponder.create({\n      onStartShouldSetPanResponder: function onStartShouldSetPanResponder(event, gestureState) {\n        return true;\n      },\n      onStartShouldSetPanResponderCapture: function onStartShouldSetPanResponderCapture(event, gestureState) {\n        return _this.state.openedLeft || _this.state.openedRight;\n      },\n      onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture(event, gestureState) {\n        return Math.abs(gestureState.dx) > _this.props.sensitivity && Math.abs(gestureState.dy) <= _this.props.sensitivity;\n      },\n      onPanResponderGrant: this._handlePanResponderGrant,\n      onPanResponderMove: this._handlePanResponderMove,\n      onPanResponderRelease: this._handlePanResponderEnd,\n      onPanResponderTerminate: this._handlePanResponderEnd,\n      onShouldBlockNativeResponder: function onShouldBlockNativeResponder(event, gestureState) {\n        return false;\n      },\n      onPanResponderTerminationRequest: function onPanResponderTerminationRequest() {\n        return false;\n      }\n    });\n  },\n\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    if (nextProps.close) this._close();\n    if (nextProps.openRight) this._openRight();\n    if (nextProps.openLeft) this._openLeft();\n  },\n\n  _handlePanResponderGrant: function _handlePanResponderGrant(e, gestureState) {\n    var _this2 = this;\n\n    if (this.props.disabled) return;\n    if (!this.state.openedLeft && !this.state.openedRight) {\n      this._callOnOpen();\n    } else {\n      this._callOnClose();\n    }\n    this.refs.swipeoutContent.measure(function (ox, oy, width, height) {\n      var buttonWidth = _this2.props.buttonWidth || width / 5;\n      _this2.setState({\n        btnWidth: buttonWidth,\n        btnsLeftWidth: _this2.props.left ? buttonWidth * _this2.props.left.length : 0,\n        btnsRightWidth: _this2.props.right ? buttonWidth * _this2.props.right.length : 0,\n        swiping: true,\n        timeStart: new Date().getTime()\n      });\n    });\n  },\n\n  _handlePanResponderMove: function _handlePanResponderMove(e, gestureState) {\n    if (this.props.disabled) return;\n    var posX = gestureState.dx;\n    var posY = gestureState.dy;\n    var leftWidth = this.state.btnsLeftWidth;\n    var rightWidth = this.state.btnsRightWidth;\n    if (this.state.openedRight) var posX = gestureState.dx - rightWidth;else if (this.state.openedLeft) var posX = gestureState.dx + leftWidth;\n\n    //  prevent scroll if moveX is true\n    var moveX = Math.abs(posX) > Math.abs(posY);\n    if (this.props.scroll) {\n      if (moveX) this.props.scroll(false);else this.props.scroll(true);\n    }\n    if (this.state.swiping) {\n      //  move content to reveal swipeout\n      if (posX < 0 && this.props.right) {\n        this.setState({ contentPos: Math.min(posX, 0) });\n      } else if (posX > 0 && this.props.left) {\n        this.setState({ contentPos: Math.max(posX, 0) });\n      };\n    }\n  },\n\n  _handlePanResponderEnd: function _handlePanResponderEnd(e, gestureState) {\n    if (this.props.disabled) return;\n    var posX = gestureState.dx;\n    var contentPos = this.state.contentPos;\n    var contentWidth = this.state.contentWidth;\n    var btnsLeftWidth = this.state.btnsLeftWidth;\n    var btnsRightWidth = this.state.btnsRightWidth;\n\n    //  minimum threshold to open swipeout\n    var openX = contentWidth * 0.33;\n\n    //  should open swipeout\n    var openLeft = posX > openX || posX > btnsLeftWidth / 2;\n    var openRight = posX < -openX || posX < -btnsRightWidth / 2;\n\n    //  account for open swipeouts\n    if (this.state.openedRight) var openRight = posX - openX < -openX;\n    if (this.state.openedLeft) var openLeft = posX + openX > openX;\n\n    //  reveal swipeout on quick swipe\n    var timeDiff = new Date().getTime() - this.state.timeStart < 200;\n    if (timeDiff) {\n      var openRight = posX < -openX / 10 && !this.state.openedLeft;\n      var openLeft = posX > openX / 10 && !this.state.openedRight;\n    }\n\n    if (this.state.swiping) {\n      if (openRight && contentPos < 0 && posX < 0) {\n        this._open(-btnsRightWidth, 'right');\n      } else if (openLeft && contentPos > 0 && posX > 0) {\n        this._open(btnsLeftWidth, 'left');\n      } else {\n        this._close();\n      }\n    }\n\n    //  Allow scroll\n    if (this.props.scroll) this.props.scroll(true);\n  },\n\n  _tweenContent: function _tweenContent(state, endValue) {\n    this.tweenState(state, {\n      easing: _reactTweenState2.default.easingTypes.easeInOutQuad,\n      duration: endValue === 0 ? this.state.tweenDuration * 1.5 : this.state.tweenDuration,\n      endValue: endValue\n    });\n  },\n\n  _rubberBandEasing: function _rubberBandEasing(value, limit) {\n    if (value < 0 && value < limit) return limit - Math.pow(limit - value, 0.85);else if (value > 0 && value > limit) return limit + Math.pow(value - limit, 0.85);\n    return value;\n  },\n\n  //  close swipeout on button press\n  _autoClose: function _autoClose(btn) {\n    if (this.state.autoClose) this._close();\n    var onPress = btn.onPress;\n    if (onPress) onPress();\n  },\n\n  _open: function _open(contentPos, direction) {\n    var left = direction === 'left';\n    var _props = this.props,\n        sectionID = _props.sectionID,\n        rowID = _props.rowID,\n        onOpen = _props.onOpen;\n\n    onOpen && onOpen(sectionID, rowID, direction);\n    this._tweenContent('contentPos', contentPos);\n    this.setState({\n      contentPos: contentPos,\n      openedLeft: left,\n      openedRight: !left,\n      swiping: false\n    });\n  },\n\n  _close: function _close() {\n    var _props2 = this.props,\n        sectionID = _props2.sectionID,\n        rowID = _props2.rowID,\n        onClose = _props2.onClose;\n\n    if (onClose && (this.state.openedLeft || this.state.openedRight)) {\n      var direction = this.state.openedRight ? 'right' : 'left';\n      onClose(sectionID, rowID, direction);\n    }\n    this._tweenContent('contentPos', 0);\n    this._callOnClose();\n    this.setState({\n      openedRight: false,\n      openedLeft: false,\n      swiping: false\n    });\n  },\n\n  _callOnClose: function _callOnClose() {\n    if (this.props.onClose) this.props.onClose(this.props.sectionID, this.props.rowID);\n  },\n\n  _callOnOpen: function _callOnOpen() {\n    if (this.props.onOpen) this.props.onOpen(this.props.sectionID, this.props.rowID);\n  },\n\n  _openRight: function _openRight() {\n    var _this3 = this;\n\n    this.refs.swipeoutContent.measure(function (ox, oy, width, height) {\n      var btnWidth = _this3.props.buttonWidth || width / 5;\n\n      _this3.setState({\n        btnWidth: btnWidth,\n        btnsRightWidth: _this3.props.right ? btnWidth * _this3.props.right.length : 0\n      }, function () {\n        _this3._tweenContent('contentPos', -_this3.state.btnsRightWidth);\n        _this3._callOnOpen();\n        _this3.setState({\n          contentPos: -_this3.state.btnsRightWidth,\n          openedLeft: false,\n          openedRight: true,\n          swiping: false\n        });\n      });\n    });\n  },\n\n  _openLeft: function _openLeft() {\n    var _this4 = this;\n\n    this.refs.swipeoutContent.measure(function (ox, oy, width, height) {\n      var btnWidth = _this4.props.buttonWidth || width / 5;\n\n      _this4.setState({\n        btnWidth: btnWidth,\n        btnsLeftWidth: _this4.props.left ? btnWidth * _this4.props.left.length : 0\n      }, function () {\n        _this4._tweenContent('contentPos', _this4.state.btnsLeftWidth);\n        _this4._callOnOpen();\n        _this4.setState({\n          contentPos: _this4.state.btnsLeftWidth,\n          openedLeft: true,\n          openedRight: false,\n          swiping: false\n        });\n      });\n    });\n  },\n\n  render: function render() {\n    var contentWidth = this.state.contentWidth;\n    var posX = this.getTweeningValue('contentPos');\n\n    var styleSwipeout = [_styles2.default.swipeout, this.props.style];\n    if (this.props.backgroundColor) {\n      styleSwipeout.push([{ backgroundColor: this.props.backgroundColor }]);\n    }\n\n    var limit = -this.state.btnsRightWidth;\n    if (posX > 0) var limit = this.state.btnsLeftWidth;\n\n    var styleLeftPos = {\n      left: {\n        left: 0,\n        overflow: 'hidden',\n        width: Math.min(limit * (posX / limit), limit)\n      }\n    };\n    var styleRightPos = {\n      right: {\n        left: Math.abs(contentWidth + Math.max(limit, posX)),\n        right: 0\n      }\n    };\n    var styleContentPos = {\n      content: {\n        transform: [{ translateX: this._rubberBandEasing(posX, limit) }]\n      }\n    };\n\n    var styleContent = [_styles2.default.swipeoutContent];\n    styleContent.push(styleContentPos.content);\n\n    var styleRight = [_styles2.default.swipeoutBtns];\n    styleRight.push(styleRightPos.right);\n\n    var styleLeft = [_styles2.default.swipeoutBtns];\n    styleLeft.push(styleLeftPos.left);\n\n    var isRightVisible = posX < 0;\n    var isLeftVisible = posX > 0;\n\n    return _react2.default.createElement(\n      _reactNative.View,\n      { style: styleSwipeout },\n      _react2.default.createElement(\n        _reactNative.View,\n        _extends({\n          ref: 'swipeoutContent',\n          style: styleContent,\n          onLayout: this._onLayout\n        }, this._panResponder.panHandlers),\n        this.props.children\n      ),\n      this._renderButtons(this.props.right, isRightVisible, styleRight),\n      this._renderButtons(this.props.left, isLeftVisible, styleLeft)\n    );\n  },\n\n  _onLayout: function _onLayout(event) {\n    var _event$nativeEvent$la = event.nativeEvent.layout,\n        width = _event$nativeEvent$la.width,\n        height = _event$nativeEvent$la.height;\n\n    this.setState({\n      contentWidth: width,\n      contentHeight: height\n    });\n  },\n\n  _renderButtons: function _renderButtons(buttons, isVisible, style) {\n    if (buttons && isVisible) {\n      return _react2.default.createElement(\n        _reactNative.View,\n        { style: style },\n        buttons.map(this._renderButton)\n      );\n    } else {\n      return _react2.default.createElement(_reactNative.View, null);\n    }\n  },\n\n  _renderButton: function _renderButton(btn, i) {\n    var _this5 = this;\n\n    return _react2.default.createElement(SwipeoutBtn, {\n      backgroundColor: btn.backgroundColor,\n      color: btn.color,\n      component: btn.component,\n      disabled: btn.disabled,\n      height: this.state.contentHeight,\n      key: i,\n      onPress: function onPress() {\n        return _this5._autoClose(btn);\n      },\n      text: btn.text,\n      type: btn.type,\n      underlayColor: btn.underlayColor,\n      width: this.state.btnWidth\n    });\n  }\n});\n\nSwipeout.NativeButton = _NativeButton2.default;\nSwipeout.SwipeoutButton = SwipeoutBtn;\n\nexports.default = Swipeout;"]},"metadata":{},"sourceType":"script"}